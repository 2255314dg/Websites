{% extends 'dashboard/base.html' %}

{% block title %}导入学生数据 - 学生返校数据仪表盘{% endblock %}

{% block content %}
    <!-- Dashboard Header -->
    <header class="dashboard-header pt-5 mt-5">
        <div class="container">
            <h1><i class="fa fa-upload"></i> 导入学生数据</h1>
            <p>批量导入学生返校信息数据</p>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mt-4">
        <!-- Import Form -->
        <div class="card fade-in">
            <div class="card-body">
                <h5 class="card-title">数据导入</h5>
                <form method="post" enctype="multipart/form-data">
                    {% csrf_token %}
                    
                    <!-- File Type Selection -->
                    <div class="mb-3">
                        <label class="form-label">导入文件类型</label>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="import_type" id="import_csv" value="csv" checked>
                            <label class="form-check-label" for="import_csv">
                                <i class="fa fa-file-csv"></i> CSV文件
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="import_type" id="import_excel" value="excel">
                            <label class="form-check-label" for="import_excel">
                                <i class="fa fa-file-excel"></i> Excel文件 (.xls)
                            </label>
                        </div>
                    </div>
                    
                    <!-- File Upload -->
                    <div class="mb-3">
                        <label for="file" class="form-label">选择文件</label>
                        <input class="form-control" type="file" id="file" name="file" accept=".csv,.xls">
                        <div class="form-text">支持CSV和Excel(.xls)格式文件</div>
                    </div>
                    
                    <!-- Import Button -->
                    <div class="mb-3">
                        <button type="submit" class="btn btn-primary me-2">
                            <i class="fa fa-upload"></i> 开始导入
                        </button>
                        <a href="{% url 'student_list' %}" class="btn btn-secondary">
                            <i class="fa fa-arrow-left"></i> 返回学生列表
                        </a>
                    </div>
                    
                    <!-- Import Guidelines -->
                    <div class="card bg-light mt-4">
                        <div class="card-body">
                            <h6 class="card-title">导入说明：</h6>
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item bg-light">1. 请确保文件包含以下表头：学号, 姓名, 性别, 年级, 专业, 返校状态, 返校时间, 返校方式</li>
                                <li class="list-group-item bg-light">2. 性别取值：男/女</li>
                                <li class="list-group-item bg-light">3. 年级取值：大一/大二/大三/大四</li>
                                <li class="list-group-item bg-light">4. 专业取值：计算机科学与技术/电子信息工程/机械工程/土木工程/工商管理/临床医学</li>
                                <li class="list-group-item bg-light">5. 返校状态取值：已返校/未返校/延期返校</li>
                                <li class="list-group-item bg-light">6. 返校时间格式：YYYY-MM-DD HH:MM:SS 或 YYYY-MM-DD</li>
                                <li class="list-group-item bg-light">7. 返校方式取值：火车/飞机/汽车/私家车/其他</li>
                            </ul>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </main>
{% endblock %}
